(()=>{"use strict";var e={334:(e,t,o)=>{var l=o(963),n=o(252);const a={id:"app"},d={class:"todoapp"};function r(e,t,o,l,r,i){const s=(0,n.up)("Header"),c=(0,n.up)("List"),m=(0,n.up)("Footer"),p=(0,n.up)("CopyRight");return(0,n.wg)(),(0,n.iD)("div",a,[(0,n._)("section",d,[(0,n.Wm)(s),l.todosLength?((0,n.wg)(),(0,n.j4)(c,{key:0})):(0,n.kq)("",!0),l.todosLength?((0,n.wg)(),(0,n.j4)(m,{key:1})):(0,n.kq)("",!0)]),(0,n.Wm)(p)])}var i=o(907);const s={class:"header"},c=(0,n._)("h1",null,"todos",-1),m=["value"];function p(e,t,o,l,a,d){return(0,n.wg)(),(0,n.iD)("header",s,[c,(0,n._)("input",{class:"new-todo",placeholder:"What needs to be done?",value:e.name,onInput:t[0]||(t[0]=(...e)=>l.handleChange&&l.handleChange(...e)),onKeyup:t[1]||(t[1]=(...e)=>l.handleSubmit&&l.handleSubmit(...e))},null,40,m)])}var u=o(262);const h="Enter",v={setup(){const e=(0,i.oR)(),t=(0,u.qj)({name:""}),o=e=>t.name=e.target.value,l=o=>{o.key===h&&(e.dispatch("onCreate",t.name),t.name="")};return{...(0,u.BK)(t),handleChange:o,handleSubmit:l}}};var g=o(744);const f=(0,g.Z)(v,[["render",p]]),C=f,k={class:"main"},b=["checked"],w={class:"todo-list"};function y(e,t,o,l,a,d){const r=(0,n.up)("Item");return(0,n.wg)(),(0,n.iD)("section",k,[(0,n._)("input",{id:"toggle-all",class:"toggle-all",type:"checkbox",checked:l.areAllCompleted,readonly:""},null,8,b),(0,n._)("label",{htmlFor:"toggle-all",onClick:t[0]||(t[0]=(...e)=>l.onCompleteAll&&l.onCompleteAll(...e))}),(0,n._)("ul",w,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(l.visibleTodos,(e=>((0,n.wg)(),(0,n.j4)(r,{key:e.id,todo:e,onRemove:l.onRemove,onUpdate:l.onUpdate},null,8,["todo","onRemove","onUpdate"])))),128))])])}var _=o(577);const T={class:"view"},F=["checked"],R=["value"];function A(e,t,o,l,a,d){return(0,n.wg)(),(0,n.iD)("li",{class:(0,_.C_)({completed:o.todo.completed,editing:l.editing})},[(0,n._)("div",T,[(0,n._)("input",{class:"toggle",type:"checkbox",checked:o.todo.completed,onChange:t[0]||(t[0]=(...e)=>l.handleCompleted&&l.handleCompleted(...e))},null,40,F),(0,n._)("label",{onDblclick:t[1]||(t[1]=(...e)=>l.handleEdit&&l.handleEdit(...e))},(0,_.zw)(o.todo.name),33),(0,n._)("button",{class:"destroy",onClick:t[2]||(t[2]=(...e)=>l.handleRemove&&l.handleRemove(...e))})]),l.editing?((0,n.wg)(),(0,n.iD)("input",{key:0,class:"edit",value:l.name,onInput:t[3]||(t[3]=(...e)=>l.handleChange&&l.handleChange(...e)),onBlur:t[4]||(t[4]=(...e)=>l.handleBlur&&l.handleBlur(...e))},null,40,R)):(0,n.kq)("",!0)],2)}const O={props:{todo:{type:Object,required:!0}},setup(e,{emit:t}){const o=(0,u.iH)(!1),l=(0,u.iH)(e.todo.name),n=()=>o.value=!0,a=()=>t("update",{id:e.todo.id,completed:!e.todo.completed}),d=()=>t("remove",e.todo.id),r=e=>l.value=e.target.value,i=()=>{t("update",{id:e.todo.id,name:l.value}),o.value=!1};return{name:l,editing:o,handleRemove:d,handleCompleted:a,handleEdit:n,handleChange:r,handleBlur:i}}},x=(0,g.Z)(O,[["render",A]]),D=x,L={components:{Item:D},setup(){const e=(0,i.oR)(),t=t=>e.dispatch("onRemove",t),o=t=>e.dispatch("onUpdate",t),l=()=>e.dispatch("onCompleteAll");return{visibleTodos:(0,n.Fl)((()=>e.getters.visibleTodos)),areAllCompleted:(0,n.Fl)((()=>e.getters.areAllCompleted)),onRemove:t,onUpdate:o,onCompleteAll:l}}},j=(0,g.Z)(L,[["render",y]]),S=j,E={class:"footer"},U={class:"todo-count"},H={class:"filters"},Z=["onClick"];function q(e,t,o,l,a,d){return(0,n.wg)(),(0,n.iD)("footer",E,[(0,n._)("span",U,[(0,n._)("strong",null,(0,_.zw)(l.itemsLeft),1),(0,n._)("span",null,(0,_.zw)(l.itemText)+" left",1)]),(0,n._)("ul",H,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(l.filterTitles,(e=>((0,n.wg)(),(0,n.iD)("li",{key:e.key},[(0,n._)("a",{href:"./#",class:(0,_.C_)({selected:e.key===l.filter}),onClick:t=>l.onFilterSelect(e.key)},(0,_.zw)(e.value),11,Z)])))),128))]),l.completedCount?((0,n.wg)(),(0,n.iD)("button",{key:0,class:"clear-completed",onClick:t[0]||(t[0]=(...e)=>l.onClearCompleted&&l.onClearCompleted(...e))},"Clear completed")):(0,n.kq)("",!0)])}const I={all:"all",active:"active",completed:"completed"},B={setup(){const e=(0,i.oR)(),t=[{key:I.all,value:"All"},{key:I.active,value:"Active"},{key:I.completed,value:"Completed"}],o=()=>e.dispatch("onClearCompleted"),l=t=>e.dispatch("onFilterSelect",t);return{filterTitles:t,filter:(0,n.Fl)((()=>e.state.filter)),itemsLeft:(0,n.Fl)((()=>e.getters.itemsLeft)),completedCount:(0,n.Fl)((()=>e.getters.completedCount)),itemText:(0,n.Fl)((()=>1===e.getters.itemsLeft?" item":" items")),onClearCompleted:o,onFilterSelect:l}}},z=(0,g.Z)(B,[["render",q]]),K=z,W={class:"info"},M=(0,n._)("p",null,"Double-click to edit a todo",-1),P=(0,n.Uk)(" Created by "),J={href:"http://github.com/blacksonic/"},N=(0,n._)("p",null,[(0,n.Uk)("Part of "),(0,n._)("a",{href:"http://todomvc.com"},"TodoMVC")],-1);function Y(e,t){const o=(0,n.up)("x-username");return(0,n.wg)(),(0,n.iD)("footer",W,[M,(0,n._)("p",null,[P,(0,n._)("a",J,[(0,n.Wm)(o)])]),N])}const V={},G=(0,g.Z)(V,[["render",Y]]),Q=G,X="todoapp_todos";class ${static loadTodos(){return JSON.parse(window.localStorage.getItem(X)||"[]")}static storeTodos(e){window.localStorage.setItem(X,JSON.stringify(e))}}const ee={components:{CopyRight:Q,Header:C,List:S,Footer:K},setup(){const e=(0,i.oR)();return(0,n.bv)((()=>{e.dispatch("onLoad",$.loadTodos()),(0,n.m0)((()=>{$.storeTodos(e.state.todos)}))})),{todosLength:(0,n.Fl)((()=>e.state.todos.length))}}},te=(0,g.Z)(ee,[["render",r]]),oe=te;function le(e){return e.filter((e=>e.completed))}function ne(e){return e.filter((e=>!e.completed))}function ae(e,t){switch(t){case I.all:return[...e];case I.completed:return le(e);case I.active:return ne(e);default:return[...e]}}const de={visibleTodos:e=>ae(e.todos,e.filter),areAllCompleted:e=>e.todos.length&&e.todos.every((e=>e.completed)),itemsLeft:e=>ne(e.todos).length,completedCount:e=>le(e.todos).length};var re=o(934);const ie={load:"load",create:"create",remove:"remove",update:"update",completeAll:"complete_all",clearCompleted:"clear_completed",selectFilter:"select_filter"},se=e=>e.length&&le(e).length===e.length,ce={[ie.load]:(e,{todos:t})=>e.todos=t,[ie.create]:(e,{name:t})=>e.todos=[...e.todos,{id:(0,re.Z)(),name:t,completed:!1}],[ie.update]:(e,t)=>e.todos=e.todos.map((e=>e.id===t.id?{...e,...t}:e)),[ie.remove]:(e,{id:t})=>e.todos=e.todos.filter((e=>e.id!==t)),[ie.completeAll]:e=>{e.todos=e.todos.map((t=>({...t,completed:!se(e)})))},[ie.clearCompleted]:e=>e.todos=ne(e.todos)},me={[ie.selectFilter]:(e,{filter:t})=>e.filter=t},pe={onLoad:({commit:e},t)=>e(ie.load,{todos:t}),onCreate:({commit:e},t)=>e(ie.create,{name:t}),onRemove:({commit:e},t)=>e(ie.remove,{id:t}),onUpdate:({commit:e},t)=>e(ie.update,t),onCompleteAll:({commit:e})=>e(ie.completeAll),onClearCompleted:({commit:e})=>e(ie.clearCompleted)},ue={onFilterSelect:({commit:e},t)=>e(ie.selectFilter,{filter:t})},he={...ce,...me},ve={...pe,...ue},ge=(e={todos:[],filter:I.all})=>(0,i.MT)({state:e,actions:ve,mutations:he,getters:de});class fe extends HTMLElement{connectedCallback(){this.innerText="blacksonic"}}customElements.define("x-username",fe);const Ce=(0,l.ri)(oe);Ce.config.isCustomElement=e=>/^x-/.test(e),Ce.use(ge()),Ce.mount("app-root")}},t={};function o(l){var n=t[l];if(void 0!==n)return n.exports;var a=t[l]={exports:{}};return e[l](a,a.exports,o),a.exports}o.m=e,(()=>{var e=[];o.O=(t,l,n,a)=>{if(!l){var d=1/0;for(c=0;c<e.length;c++){for(var[l,n,a]=e[c],r=!0,i=0;i<l.length;i++)(!1&a||d>=a)&&Object.keys(o.O).every((e=>o.O[e](l[i])))?l.splice(i--,1):(r=!1,a<d&&(d=a));if(r){e.splice(c--,1);var s=n();void 0!==s&&(t=s)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[l,n,a]}})(),(()=>{o.d=(e,t)=>{for(var l in t)o.o(t,l)&&!o.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}})(),(()=>{o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{var e={143:0};o.O.j=t=>0===e[t];var t=(t,l)=>{var n,a,[d,r,i]=l,s=0;if(d.some((t=>0!==e[t]))){for(n in r)o.o(r,n)&&(o.m[n]=r[n]);if(i)var c=i(o)}for(t&&t(l);s<d.length;s++)a=d[s],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return o.O(c)},l=globalThis["webpackChunktodomvc_vue_composition_api"]=globalThis["webpackChunktodomvc_vue_composition_api"]||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))})();var l=o.O(void 0,[998],(()=>o(334)));l=o.O(l)})();
//# sourceMappingURL=app.7d65609a.js.map